{% extends 'navbar.html' %}
{% load static %}
{% block title %}Update Staff{% endblock %}
{% block link %}
<link rel="stylesheet" href="{% static 'css/product.css' %}">
{% endblock %}
{% block content %}
<div class="col-lg-10 col-md-9 col-sm-9 page-col">
   <div class="container mt-5" >
     <h4 class="fw-bold mb-0">✏️ Update Staff</h4>
     <div class="card-body p-4">
           <form method="post" enctype="multipart/form-data" style="border-radius: var(--bs-border-radius-xl) !important;">
             {% csrf_token %}
             <div class="row">
                <div class="col-md-6 ">
                  <div class="mb-3">
                    <label class="form-label fw-semibold">First Name *</label>
                    <input type="text" name="f_name" class="form-control border rounded-3 shadow-sm" value="{{ user.first_name }}" required>
                  </div>
                  <div class="mb-3">
                    <label class="form-label fw-semibold">Last Name</label>
                    <input type="text" name="l_name" class="form-control border rounded-3 shadow-sm" value="{{ user.last_name }}">
                  </div>
                  <div class="mb-3">
                    <label class="form-label fw-semibold">Email *</label>
                    <input type="email" name="email" class="form-control border rounded-3 shadow-sm" value="{{ user.email }}" required>
                  </div>
                  <div class="mb-3">
                    <label class="form-label fw-semibold">Password *</label>
                    <input type="password" name="password" class="form-control border rounded-3 shadow-sm">
                  </div>
                </div>
                <div class="col-md-6 ">
                  <div class="mt-3">
                    <label class="form-label fw-semibold">Address</label>
                    <textarea name="address" class="form-control border rounded-3 shadow-sm" rows="3">{{ user_profile.address }}</textarea>
                  </div>
                  <div class="mt-3">
                    <label class="form-label fw-semibold">Phone Number</label>
                    <div class="input-group">
                      <span class="input-group-text bg-white border rounded-start-3">+91</span>
                      <input type="tel" name="phone" class="form-control border rounded-end-3 shadow-sm" minlength="10" maxlength="10" pattern="\d{10}" value="{{ user_profile.phone }}">
                    </div>
                  </div>
                  <div class="mt-3 text-center">
                    <label class="form-label fw-semibold d-block">Current Profile Picture</label>
                    {% if user_profile.image %}
                      <img src="{{ user_profile.image.url }}" alt="Profile Image" class="rounded-circle border shadow-sm mb-2" style="width: 100px; height: 100px; object-fit: cover;">
                    {% else %}
                      <p class="text-muted">No image available</p>
                    {% endif %}
                  </div>
                  <div class="mt-3">
                    <label class="form-label fw-semibold">Upload New Profile Picture</label>
                    <input type="file" name="profile_pic" class="form-control border rounded-3 shadow-sm">
                  </div>
                </div>
             </div>
             <div class="text-center mt-4 d-flex justify-content-center gap-3" style="margin-top: 4.5rem !important;">
                <a href="{% url 'staff' %}"
                   class="btn btn-outline-secondary px-4 py-2 rounded-pill shadow-sm border-2">
                   << Back
                </a>
                <button type="submit"
                        class="btn btn-primary px-5 py-2 rounded-pill shadow-sm border-0"
                        style="background: linear-gradient(135deg, #345578, #1d4876);">Update Staff
                </button>
             </div>
           </form>
     </div>
   </div>
</div>
{% endblock %}
